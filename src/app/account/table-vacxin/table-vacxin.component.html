<div class="container-fluid ">

  <div class="row mt-4">
    <div class="col d-flex justify-content-center">
      <h2>BẢNG THÔNG TIN VẮC XIN CỦA TRUNG TÂM</h2>
    </div>
  </div>

  <div class="row mt-5">
    <div class="col-md-1">
      <!--      <button class="btn btn-outline-success" data-toggle="modal" data-target="#importModal">-->
      <!--        <i class="fas fa-plus-circle"></i> Nhập vắc xin-->
      <!--      </button>-->
    </div>

    <div class=" d-flex justify-content-end col-md-9 ">
      <input style="width: 120px;border: 0" #focusOn class="form-control mr-3"
             [(ngModel)]="currentSearchVaccine.name" type="text" placeholder="Tên vắc xin">
      <input style="width: 120px;border: 0" class="form-control mr-3"
             [(ngModel)]="currentSearchVaccine.category" type="text" placeholder="Loại vắc xin">
      <input style="width: 140px;border: 0" class="form-control mr-3"
             [(ngModel)]="currentSearchVaccine.country" type="text" placeholder="Nước sản xuất">
      <select style="width: auto;border: 0 ;height: 36px" class="form-control"
              [(ngModel)]="currentSearchVaccine.inventoryStatus" id="exampleFormControlSelect1">
        <option selected disabled value="">Tình trạng vắc xin</option>
        <option value="">Tất cả</option>
        <option value="còn">Còn</option>
        <option value="hết">Hết</option>
      </select>
      <button class="btn btn-outline-info ml-3" (click)="search()">
        <i class="fas fa-search"></i> Tìm kiếm
      </button>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col">
      <div *ngIf="vaccineList?.length == 0" class="text-danger mb-4">
        <h5>Không tìm thấy dữ liệu phù hợp</h5>
      </div>
      <table class="table table-striped text-center table-sm ">
        <thead class="bg-info text-white">
        <tr class="">
          <th class="">Tên Vắc-xin</th>
          <th class="">Loại Vắc-xin</th>
          <th class="">Nước sản xuất</th>
          <th class="">Độ tuổi tiêm chủng</th>
          <th class="">Tình trạng</th>
          <th class="">Đăng ký tiêm</th>
        </tr>
        </thead>
        <tbody>
        <tr
          *ngFor="let vaccine of vaccineList | paginate : {itemsPerPage: pageSize, currentPage: currentPage, totalItems: totalElements}; index as i">
          <td>{{vaccine.name}}</td>
          <td>{{vaccine.category}}</td>
          <td>{{vaccine.country}}</td>
          <td>{{vaccine.limitAge < 0 ? ("Dưới " + vaccine.limitAge / -1) : ("Trên " + vaccine.limitAge) }}</td>
          <td>{{vaccine.inventoryStatus}}</td>
          <td>
            <button class="btn btn-warning"
                    (click)="registrationVaccination(vaccine)">
              Đăng ký tiêm
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="mt-3 d-flex justify-content-end">
    <pagination-controls (pageChange)="getPage($event)"></pagination-controls>
  </div>


  <!--Export-->
  <div class="modal fade" id="exportModal">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <app-export-vaccine *ngIf="exportVaccine" (export)="exportConfirm($event)"
                            [vaccine]="exportVaccine"></app-export-vaccine>
      </div>
    </div>
  </div>

</div>
